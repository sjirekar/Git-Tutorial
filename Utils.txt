Uitiity function for vrsion two